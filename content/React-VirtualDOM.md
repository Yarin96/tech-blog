---
title: "React VirtualDOM"
date: "2023-12-3"
image: react-virtual-dom.png
info: React virtual dom info
isFeatured: true
---

בתור מפתחי ריאקט, בטח שמעתם בעבר על ה - VirtualDOM.

מה זה בכלל? איך זה בדיוק עובד?

ואיך זה נותן לריאקט יתרון על פני ספריות פרונט אנד אחרות?

הבנה מעמיקה של ה- VirtualDOM תעזור לנו להיות מפתחי ריאקט טובים יותר.

בואו נצלול פנימה אל תוך הקונספט הזה 👇👇

👈 בתור התחלה, נרענן קצת את הזיכרון שלנו לגבי ה- Real DOM או בקצרה DOM
(Document Object Model). מדובר במסמכי HTML המסודרים במבנה נתונים של עץ
(שמכיל צמתים ואובייקטים), ונשלחים לדפדפן בכל בקשה של משתמש לבקר בדף
מסוים באתר. ה- DOM משרת כממשק למסמכי ה- HTML כך ששפות סקריפט כמו
JavaScript יוכלו לבצע מניפולציות על תוכן המסמך.

👈 שינויים ב- DOM מתבצעים בכל פעם שנרצה לעדכן את הסטייט הקיים ב- UI, כדי
שיציג לנו מידע חדש על גבי העמוד באתר (נתייחס לזה כ-\"רינדור\" מחדש של
הדף). השינויים אמנם יכולים להיות יחסית מהירים ולא יקרים, אך באפליקציות
גדולות המכילות מספר רב של אלמנטים רינדור מחדש כרוך בביצועים כבדים 🤕. זה
בא לידי ביטוי בכך שבכל רינדור ה- DOM יצטרך לעדכן את תוכן ואת סדר
האלמנטים בכל שכבות העץ, כלומר גם בילדים של החוליה הרלוונטית, בנוסף על
חישוב מחדש של קוד ה- CSS שלהם.

⬜

כמו שאתם רואים זה לא מצב אידיאלי ויקר מאוד מבחינת ביצועים. לכן, ריאקט
מציעה פתרון מתאים לשיפור הביצועים בעזרת ה- VirtualDOM 👇:

👈 ה- VirtualDOM הוא למעשה קונספט של שכפול העץ של ה- DOM (ומכאן השם -
וירטואלי) שנשמר בזיכרון הדפדפן, כך שכל אובייקט שקיים ב- DOM המקורי קיים
גם ב- VirtualDOM. להבדיל מה- DOM, אין בידיו את הכוח לשנות את שכבות מסמכי
ה- HTML ישירות. בריאקט, בכל שינוי סטייט (מצב נוכחי של הדף / עץ) השינוי
יתבצע קודם כל וירטואלית.

👈 למעשה, ריאקט מחזיקה בשני Virtual DOMs, אחד עם הסטייט הקודם שהיה לפני
השינוי שבוצע על הדף ואחד עם הסטייט המעודכן. לאחר שריאקט מעדכנת את
הקומפוננטות הדרושות ב- VirtualDOM היא משווה בין שניהם באמצעות אלגוריתם
שנקרא \"Diffing\". האלגוריתם מוצא את השינויים הספיצפיים בין עדכון הסטייט
הנוכחי לבין הקודם (בשני העצים הוירטואלים), במספר הצעדים המינימלי ביותר,
במטרה למצוא רק את השינויים הספיציפיים בקומפוננטות הנדרשים לעדכון ב- DOM
האמיתי (לפעמים מדובר בתגיות HTML בודדות). בכך האלגוריתם מונע מעבר על כל
מבנה העץ ותורם לשיפור ביצועים משמעותי 🔝.

👈 ריאקט עושה תהליך זה עבורנו באמצעות דבר שנקרא \"batch updates\", מה
שבסה\"כ אומר שמספר שינויי סטייטים נשלחים כחבילת עדכון אחת 📦. גם זה גורם
לחיסכון משמעותי בביצועים שכן גורם ל- UI לרונדר רק פעם אחת עם כל המידע
המעודכן ולא בכל שינוי סטייט לחוד. התהליך כולו שתיארתי הרגע (של עדכון
שינויים ב- DOM האמיתי דרך הוירטואלי) נקרא Reconciliation.

👈 הספרייה בריאקט שאחראית לסנכרון הזה בין ה- DOM האמיתי לוירטואלי נקראת
ReactDOM.

⬜

בשורה התחתונה, ה-DOM הוירטואלי הוא אחד הכלים המאפשרים לריאקט להיות יותר
מהירה מבחינת ביצועים יחסית לפריימוורקים אחרים, כדוגמת אנגולר, וזו אחת
הסיבות מדוע היא כזו פופולרית.

```typescript
const basics = 'Okay, that should not be too difficult actually';

function printBasics() {
  console.log(basics):
}

printBasics();
```

עד כאן לפוסט זה, אם אהבתם את התוכן אשמח ללייק, תגובה ושיתוף 😃

אציין שאני עדיין מחפש משרת סטודנט בתחום פיתוח התוכנה (בדגש על משרות
פרונטאנד / בקאנד). אשמח ליצור קשר אם רלוונטי לכם!
